{"ast":null,"code":"import _defineProperty from \"/Users/nagi/Desktop/CosmeAPI/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/nagi/Desktop/CosmeAPI/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/nagi/Desktop/CosmeAPI/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/nagi/Desktop/CosmeAPI/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/nagi/Desktop/CosmeAPI/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/nagi/Desktop/CosmeAPI/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/nagi/Desktop/CosmeAPI/src/components/FetchProduct.js\";\nimport React, { Component } from 'react';\nimport './FetchProduct.css';\nimport axios from \"axios\";\nimport noimg from \"../img/noimg.svg\";\nimport ReactImageFallback from \"react-image-fallback\";\n\nvar FetchProduct =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FetchProduct, _Component);\n\n  function FetchProduct() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FetchProduct);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FetchProduct)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      searchText: \"\",\n      loading: true,\n      apiUrl: \"http://makeup-api.herokuapp.com/api/v1/products.json\",\n      items: []\n    };\n\n    _this.onTextChange = function (e) {\n      var val = e.target.value;\n\n      _this.setState(_defineProperty({}, e.target.name, val), function () {\n        if (val === \"\") {\n          _this.setState({\n            items: []\n          });\n        } else {\n          axios.get(\"\".concat(_this.state.apiUrl, \"?product_type=\").concat(_this.state.searchText)).then(function (res) {\n            return _this.setState({\n              items: res.data\n            });\n          }).catch(function (err) {\n            return console.log(err);\n          });\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(FetchProduct, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"searchText\",\n        className: \"search-bar\",\n        type: \"text\",\n        placeholder: \"Search\",\n        onChange: this.onTextChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"layout\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, this.state.items.map(function (item) {\n        return React.createElement(\"div\", {\n          key: item.id,\n          className: \"item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, React.createElement(ReactImageFallback, {\n          src: item.image_link,\n          fallbackImage: noimg,\n          initialImage: \"loader.gif\",\n          alt: \"Image should be here\",\n          className: \"image-link\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"item-list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"item-name list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, item.name), React.createElement(\"div\", {\n          className: \"brand-name list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, \"by \", item.brand), item.tag_list.map(function (tag) {\n          return React.createElement(\"div\", {\n            className: \"tag-name list\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }, tag.tag_list);\n        })), React.createElement(\"div\", {\n          className: \"shop-btn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: item.product_link,\n          className: \"link-btn list\",\n          target: \"_blank\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, \"SHOP\")));\n      })));\n    }\n  }]);\n\n  return FetchProduct;\n}(Component);\n\nexport default FetchProduct;","map":{"version":3,"sources":["/Users/nagi/Desktop/CosmeAPI/src/components/FetchProduct.js"],"names":["React","Component","axios","ReactImageFallback","FetchProduct","state","searchText","loading","apiUrl","items","onTextChange","e","val","target","value","setState","name","get","then","res","data","catch","err","console","log","map","item","id","image_link","noimg","brand","tag_list","tag","product_link"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './FetchProduct.css';\nimport axios from \"axios\";\nimport noimg from \"../img/noimg.svg\";\nimport ReactImageFallback from \"react-image-fallback\";\n\n\n\nclass FetchProduct extends Component {\n\nstate = {\n  searchText: \"\",\n  loading: true,\n  apiUrl: \"http://makeup-api.herokuapp.com/api/v1/products.json\",\n  items: []\n};\n\n\n\nonTextChange = e =>{\n  const val = e.target.value;\n  this.setState({[e.target.name]: val }, () => {\n    if(val === \"\"){\n      this.setState({items: []});\n    } else {\n      axios\n      .get(\n        `${this.state.apiUrl}?product_type=${this.state.searchText}`\n      )\n      .then(res => this.setState({items: res.data}))\n      .catch(err => console.log(err));\n    }\n  });\n\n};\n\n\n  render() {\n    \n    return (\n       <div className=\"search\">\n      <input name=\"searchText\" className=\"search-bar\" type=\"text\" placeholder=\"Search\" onChange={this.onTextChange}/> \n        <div className=\"layout\">\n        {this.state.items.map(item => (\n        <div key={item.id} className=\"item\">\n\n        <ReactImageFallback\n\t\t\t\t\tsrc={item.image_link}\n\t\t\t\t\tfallbackImage={noimg}\n\t\t\t\t\tinitialImage=\"loader.gif\"\n\t\t\t\t\talt=\"Image should be here\"\n\t\t\t\t\tclassName=\"image-link\" />\n      \n         <div className=\"item-list\">\n         <div className=\"item-name list\">{item.name}</div>\n         <div className=\"brand-name list\">by {item.brand}</div>\n\n         {item.tag_list.map(tag => (\n           <div className=\"tag-name list\">{tag.tag_list}</div>\n         ))}\n         \n         </div>\n\n         <div className=\"shop-btn\">\n         <a href={item.product_link} className=\"link-btn list\" target=\"_blank\">SHOP</a>\n         </div>\n\n          </div>\n        ))}\n         \n\n        </div>\n        </div>\n    );\n  }\n}\n\nexport default FetchProduct;"]},"metadata":{},"sourceType":"module"}